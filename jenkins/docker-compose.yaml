version: '3.8'
services:
  jenkins:
    image: jenkins/jenkins:lts
    privileged: true
    user: root
    ports:
      - 8080:8080
      - 50000:50000
    container_name: jenkins
    volumes:
      - /home/zhaksylyk/jenkins_compose/jenkins_configuration:/var/jenkins_home
      - /var/run/docker.sock:/var/run/docker.sock
  agent:
    image: jenkins/ssh-agent:jdk17
    privileged: true
    user: root
    container_name: agent
    expose:
      - 22
    environment:
    - JENKINS_AGENT_SSH_PUBKEY=ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDEZXHRkjrJue+I83PeCDctnRNwcesFxMjRlsA7YXMTLvGaicDNyACgToBYnmxY9tEY40p+m6dqPF45NMZBBHGP41Q68HedHsPioV1yhuCRzhhJt6408l4paTtgjn+JnsLwNmbbA6mnSTPVni/7wRhW6TIBQFuTpt6BUw3BMj9ae1lpLzI3zcd/f46MPw46ia5/usP0f4kw2dbD4g9XHIDuZzwAEdBrNgagG4qJRN84Ra2TsOrwzMZx6Eqw6vEH5fRviaFGiRh0u7Vi8f2+7vVtqhclWQmkREMLHn5ai/0NpNfixVpxoruBDpK50ZYbvkxWaFJ+s/xi2U/rf4sUFYvYU2wYNWKuQXvlBCJ5r6umXhzRW9r8S0AG7PenNki4lmRMZn+dJMdFrKWUm+pVpYOQWvpw1pLIwA3SIGf4bkgo88+PQoOLC3s5F2kxfdVNn3SB5pTgzKN+Y2y+8TDu8S+x4/h0JqRErYURPf+oVQS4WSWfdqblVbm8nMPiRvLsBNE= XE@XE6865
